<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理者ガイド - EasyCTF</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <ul class="nav-menu">
                <li><a href="index.html">ホーム</a></li>
                <li><a href="gameplay.html">遊び方</a></li>
                <li><a href="commands.html">コマンド</a></li>
                <li><a href="shop.html">ショップ</a></li>
                <li><a href="match.html">マッチ</a></li>
                <li><a href="map-creation.html">マップ作成</a></li>
                <li><a href="admin.html" class="active">管理者</a></li>
                <li><a href="faq.html">FAQ</a></li>
            </ul>
            <div class="nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <header class="page-header">
        <div class="container">
            <h1>管理者ガイド</h1>
            <p>EasyCTFのセットアップと運用方法</p>
        </div>
    </header>

    <main class="container">
        <section class="content-section">
            <h2><i class="fas fa-server"></i> セットアップ</h2>
            
            <h3>必要環境</h3>
            <ul class="requirement-list">
                <li><i class="fas fa-check"></i> Minecraft Paper Server 1.21.5以上</li>
                <li><i class="fas fa-check"></i> Java 21</li>
                <li><i class="fas fa-check"></i> 最低2GB以上のRAM推奨</li>
            </ul>
            
            <h3>インストール手順</h3>
            <ol class="install-steps">
                <li>
                    <strong>ダウンロード</strong>
                    <p><a href="https://github.com/yourusername/easy_ctf/releases">Releases</a>から最新のjarファイルをダウンロード</p>
                </li>
                <li>
                    <strong>配置</strong>
                    <p>サーバーのpluginsフォルダに配置</p>
                </li>
                <li>
                    <strong>起動</strong>
                    <p>サーバーを起動すると<code>plugins/EasyCTF/</code>フォルダが生成される</p>
                </li>
                <li>
                    <strong>設定</strong>
                    <p><code>config.yml</code>を編集して基本設定を調整</p>
                </li>
            </ol>
        </section>

        <section class="content-section">
            <h2><i class="fas fa-map"></i> ゲームアリーナの作成</h2>
            
            <h3>対話形式での作成</h3>
            <div class="command-block">
                <code>/ctf create arena1</code>
                <button class="copy-btn">コピー</button>
            </div>
            
            <div class="setup-steps">
                <div class="setup-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>赤チーム旗位置</h4>
                        <p>旗を設置したい場所を見て「set」と入力</p>
                        <p class="note">ビーコンと鉄ブロックの土台が自動設置される</p>
                    </div>
                </div>
                
                <div class="setup-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>赤チームスポーン地点</h4>
                        <p>スポーン地点にしたい場所を見て「set」と入力</p>
                        <p class="note">旗から3ブロック以上離れている必要あり</p>
                    </div>
                </div>
                
                <div class="setup-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>青チーム設定</h4>
                        <p>赤チームと同様に旗位置とスポーン地点を設定</p>
                    </div>
                </div>
                
                <div class="setup-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>フェーズ設定</h4>
                        <p>建築フェーズのゲームモード選択と各フェーズの時間設定</p>
                    </div>
                </div>
            </div>
            
            <h3>アリーナ設計のポイント</h3>
            <div class="design-tips">
                <div class="design-tip">
                    <h4><i class="fas fa-ruler"></i> 推奨サイズ</h4>
                    <ul>
                        <li>最小: 50×50ブロック</li>
                        <li>推奨: 100×100ブロック</li>
                        <li>最大: 200×200ブロック</li>
                    </ul>
                </div>
                
                <div class="design-tip">
                    <h4><i class="fas fa-map-marked-alt"></i> レイアウト</h4>
                    <pre><code>[赤スポーン]---[赤旗]
     |           |
  (中央エリア)
     |           |
[青旗]---[青スポーン]</code></pre>
                </div>
                
                <div class="design-tip">
                    <h4><i class="fas fa-lightbulb"></i> 考慮事項</h4>
                    <ul>
                        <li>両チームの対称性</li>
                        <li>複数の侵入ルート</li>
                        <li>高低差の活用</li>
                        <li>自然な障害物の配置</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2><i class="fas fa-cog"></i> 設定ファイル詳細</h2>
            
            <h3>config.yml</h3>
            <div class="config-section">
                <h4>基本設定</h4>
                <pre><code># 言語設定
language: "ja"  # "en" または "ja"

# デフォルトゲーム設定
default-game:
  min-players: 2            # 最小プレイヤー数
  max-players-per-team: 10  # チームあたり最大人数
  respawn-delay: 5          # リスポーン待機時間（秒）
  force-pvp: true           # PvP強制有効化</code></pre>
            </div>
            
            <div class="config-section">
                <h4>フェーズ設定</h4>
                <pre><code># フェーズ設定
default-phases:
  build-duration: 120       # 建築フェーズ（秒）
  build-phase-gamemode: "ADVENTURE"  # ADVENTURE/SURVIVAL/CREATIVE
  combat-duration: 120      # 戦闘フェーズ（秒）
  result-duration: 60       # 作戦会議フェーズ（秒）</code></pre>
            </div>
            
            <div class="config-section">
                <h4>通貨設定</h4>
                <pre><code># 通貨設定
currency:
  name: "G"
  initial: 50               # 初期通貨
  phase-end-bonus: 50       # フェーズ終了ボーナス
  kill-reward: 10           # キル報酬
  carrier-kill-reward: 20   # 旗キャリアキル報酬
  capture-reward: 30        # キャプチャ報酬</code></pre>
            </div>
        </section>

        <section class="content-section">
            <h2><i class="fas fa-key"></i> 権限管理</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>権限</th>
                        <th>説明</th>
                        <th>デフォルト</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>ctf.use</code></td>
                        <td>基本コマンド使用</td>
                        <td>全員</td>
                    </tr>
                    <tr>
                        <td><code>ctf.admin</code></td>
                        <td>管理コマンド使用</td>
                        <td>OP</td>
                    </tr>
                    <tr>
                        <td><code>ctf.*</code></td>
                        <td>全権限</td>
                        <td>OP</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>LuckPerms設定例</h3>
            <pre><code>groups:
  player:
    permissions:
    - ctf.use
  
  moderator:
    permissions:
    - ctf.use
    - ctf.admin.stop
    
  admin:
    permissions:
    - ctf.*</code></pre>
        </section>

        <section class="content-section">
            <h2><i class="fas fa-tachometer-alt"></i> 運用のヒント</h2>
            
            <div class="operation-tips">
                <div class="operation-tip">
                    <h3><i class="fas fa-rocket"></i> パフォーマンス最適化</h3>
                    <ul>
                        <li>同時実行ゲーム数は3-4個まで推奨</li>
                        <li>大規模マッチ（20人）は1つずつ実施</li>
                        <li>定期的にサーバー再起動を推奨</li>
                    </ul>
                </div>
                
                <div class="operation-tip">
                    <h3><i class="fas fa-tools"></i> トラブルシューティング</h3>
                    <div class="troubleshoot-item">
                        <h4>ゲームが開始できない</h4>
                        <ul>
                            <li>旗とスポーン地点が設定されているか確認</li>
                            <li>最小プレイヤー数を満たしているか確認</li>
                        </ul>
                    </div>
                    <div class="troubleshoot-item">
                        <h4>ラグが発生する</h4>
                        <ul>
                            <li>エンティティ数を確認</li>
                            <li>同時実行ゲーム数を減らす</li>
                            <li>サーバーのRAMを増やす</li>
                        </ul>
                    </div>
                </div>
                
                <div class="operation-tip">
                    <h3><i class="fas fa-save"></i> バックアップ</h3>
                    <p>定期的にバックアップすべきファイル：</p>
                    <ul>
                        <li><code>plugins/EasyCTF/config.yml</code></li>
                        <li><code>plugins/EasyCTF/games/</code>フォルダ</li>
                        <li><code>plugins/EasyCTF/lang_*.yml</code></li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2><i class="fas fa-trophy"></i> イベント開催のヒント</h2>
            
            <div class="event-tips">
                <h3>トーナメント形式</h3>
                <ol>
                    <li>複数のアリーナを準備</li>
                    <li>トーナメント表を作成</li>
                    <li>各試合は3勝先取マッチ</li>
                    <li>決勝は5勝先取マッチ</li>
                </ol>
                
                <h3>大会ルール例</h3>
                <ul>
                    <li>チーム人数: 5vs5固定</li>
                    <li>建築フェーズ: 3分</li>
                    <li>戦闘フェーズ: 7分</li>
                    <li>使用禁止アイテム: TNT</li>
                    <li>特別ルール: エンダーパール使用制限</li>
                </ul>
                
                <h3>配信・観戦設定</h3>
                <ul>
                    <li>観戦者用の高所を準備</li>
                    <li>ゲームモードをスペクテイターに設定</li>
                    <li>配信者用の専用権限グループ</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2><i class="fas fa-sync-alt"></i> アップデート手順</h2>
            
            <ol class="update-steps">
                <li>サーバーを停止</li>
                <li>設定ファイルをバックアップ</li>
                <li>新しいjarファイルで置き換え</li>
                <li>サーバーを起動</li>
                <li>設定ファイルの互換性を確認</li>
            </ol>
            
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-triangle"></i>
                <strong>注意:</strong> メジャーアップデートでは設定ファイルの変更が必要な場合があります。
            </div>
        </section>

        <nav class="page-nav">
            <a href="match.html" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> マッチモード
            </a>
            <a href="faq.html" class="btn btn-primary">
                FAQ <i class="fas fa-arrow-right"></i>
            </a>
        </nav>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>EasyCTF</h4>
                    <p>Minecraft Paper Server用の本格的なCTFプラグイン</p>
                </div>
                <div class="footer-section">
                    <h4>リンク</h4>
                    <ul>
                        <li><a href="https://github.com/yourusername/easy_ctf">GitHub</a></li>
                        <li><a href="https://github.com/yourusername/easy_ctf/releases">ダウンロード</a></li>
                        <li><a href="https://github.com/yourusername/easy_ctf/issues">Issues</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ドキュメント</h4>
                    <ul>
                        <li><a href="gameplay.html">遊び方</a></li>
                        <li><a href="admin.html">管理者ガイド</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 EasyCTF. Easy to play, Hard to master!</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>